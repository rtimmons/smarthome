{% extends "base.html" %}

{% block form_heading %}
Receipt Checklist
{% endblock %}

{% block form_fields %}
    <p>Print a daily checklist with scannable checkboxes and a QR code that opens the upload page. Corners and outlines are added for easier alignment in photos.</p>
    <label for="date">
        Date
        <input type="date" id="date" name="date" value="{{ form_context.default_date }}">
    </label>
    <label for="receiptId">
        Receipt ID (optional)
        <input type="text" id="receiptId" name="receipt_id" placeholder="20240930" value="">
    </label>
    <label for="qrBase">
        QR base URL
        <input type="url" id="qrBase" name="qr_base" value="{{ form_context.default_qr_base }}">
        <small>Query params with date/items are appended automatically.</small>
    </label>
    <fieldset>
        <legend>Checklist items (up to {{ form_context.default_items|length }})</legend>
        <div class="form-grid" style="grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));">
            {% for item in form_context.default_items %}
                <label>
                    Item {{ loop.index }}
                    <input type="text" name="item{{ loop.index }}" value="{{ item }}">
                </label>
            {% endfor %}
        </div>
    </fieldset>
{% endblock %}

{% block preview_area %}
    {{ super() }}
    <p class="preview-status">Preview shows the printed checkbox layout; the QR encodes the upload URL with the listed items.</p>
{% endblock %}
