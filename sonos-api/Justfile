# Sonos API Addon Justfile
# Proxy API for node-sonos-http-api with custom routes and helpers

# Import shared libraries
import "../talos/just/common.just"
import "../talos/just/nvm.just"

# ============================================================================
# ADDON-SPECIFIC RECIPES
# ============================================================================

# Set up the sonos-api development environment
[group: 'setup']
setup:
    @echo "ğŸ”§ Setting up Sonos API..."
    @{{nvm_use}}
    @npm install
    @echo "âœ… Sonos API setup complete"

# Build the project (test equivalent)
[group: 'test']
test:
    @echo "ğŸ—ï¸  Building Sonos API..."
    @{{nvm_use}}
    @npm run build
    @echo "âœ… Build completed successfully"

# Run development server
[group: 'dev']
dev: setup
    @echo "ğŸš€ Starting Sonos API development server..."
    @{{nvm_use}}
    @npm run dev
